# GC算法介绍
+ GC是一种机制，垃圾回收器完成具体的工作
+ 工作的内容就是查找垃圾释放空间、回收空间
+ 算法就是工作时查找和回收所遵循的规则

# 常见GC算法
## 引用计数
+ 核心思想：设置引用数，判断当前引用数是否为0
+ 引用计数器
+ 引用关系改变时修改应用数字
+ 引用数字为0时立即回收
> 简单来说 就是当变量没有被引用的时候就会被回收
引用计数算法优点
+ 发现垃圾时立即回收
+ 最大限度减少程序暂停
引用计数算法缺点
+ 无法回收循环引用的对象
+ 时间开销大
##  标记清除
+ 核心思想：分标记和清除二个阶段完成
+ 遍历所有对象找标记活动对象  
+ 遍历所有对象清除没有标记对象
+ 回收相应的空间
标记清除算法优点
+ 可以解决对象循环引用的操作
标记清除算法缺点
+ 空间碎片化 回收的内存地址不是连续的 一旦需要使用要是多了或者少了就会造成空间碎片化，不能最大的使用内存
## 标记整理
+ 标记整理可以看做是标记清除的增强
+ 标记阶段的操作和标记清除一致
+ 清除阶段会先执行整理，移动对象位置 
##  分代回收
 
# V8
+ 主流的javaScript 执行引擎
+ V8采用即时编译
+ V8b内存设限  64位操作系统1.5G  32位操作系统800M
## V8垃圾回收策略
+ 采用分代回收的思想
+ 内存分为新生代、老生代
+ 针对不同对象采用不同算法
## V8内存分配
+ V8内存空间一份为二
+ 小空间用于存储新生代对象（64位 32M|32位16M)
+ 新生代指的是存活时间较短的对象
## 新生代对象回收实现
+ 回收过程采用复制算法+标记整理
+ 新生代内存区分为二个等大小空间
+ 使用空间为From，空闲空间为To
+ 活动对象存储于From空间
+ 标记整理后将活动对象拷贝至T0
+ From与To交换空间完成释放
## 回收细节说明
+ 拷贝过程中可能出现晋升
+ 晋升就是将新生代对象移动至老生代
+ 一轮GC还存活的新生代需要晋升
+ To空间的使用率超过25%
## 老生代对象说明
+ 老生代对象存放在右侧老生代区域
+ 64位操作系统1.4G，32操作系统700M
+ 老生代对象就是指存活时间较长的对象
## 老生代对象回收实现
+ 主要采用标记清除、标记整理、增量标记算法
+ 首先使用标记清除完成垃圾空间的回收
+ 采用标记整理进行空间优化
+ 采用增量标记进行效率优化

## 标记增量如何优化垃圾回收
![](http://qal1ytb0j.bkt.clouddn.com//20200527230610.png)


# 内存问题的外在表现
+ 页面出现延迟加载或经常性暂停
+ 页面持续性出现糟糕的性能
+ 页面的性能随时间延长越来越差
